---
layout: post
title: 代理、缓存、网关、隧道
tags:
- HTTP
categories: HTTP
description: 代理、缓存、网关、隧道
---

# HTTP代理、缓存、网关、隧道

通信数据转发程序：代理、网关、隧道

# 代理-agent

**位于客户端和服务器之间的HTTP中间实体。**

代理是一种有转发功能的应用程序。接收由客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-1.png" alt="">
</div>

- 缓存代理，会预先将资源的副本（缓存）保存在代理服务器上。

1. 透明代理，转发请求或响应时，不对报文做任何加工的代理类型。  
2. 非透明代理，对报文内容进行加工的代理。

# 网关-gateway

连接其他应用程序的特殊Web服务器。

通常用于将HTTP流量转换成其他的协议。**提供非HTTP协议服务。**

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-2.png" alt="">
</div>

网关优点：

利用网关能提高通信的安全性，因为可以在客户端与网关之间的通行线路上加密以确保连接的安全。

网关用处：

1. 网关可以连接数据库，使用SQL语句查询数据。  
2. web购物网站上进行信用卡结算时，网关可以和信用卡结算系统联动。

# 隧道-tunnel

**对HTTP通信报文进行盲目转发且不会窥探数据的特殊代理。**

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-3.png" alt="">
</div>

隧道的目的：

确保客户端能与服务器进行安全的通信。SSL

# 保存资源的缓存-cache

**缓存是指代理服务器或客户端本地磁盘保存的资源副本。**

利用缓存可减少对服务器的访问，因此也就节省了通信流量和通信时间。

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-4.png" alt="">
</div>

缓存服务器是代理服务器的一种

## cache的有效期限

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-5.png" alt="">
</div>

当判定缓存过期后，缓存服务器需向源服务器确认资源的有效性

## 客户端的缓存-web

浏览器缓存如果有效，就不必再向服务器请求相同的资源了，可以直接从本地磁盘内读取。

<div class="rd">
    <img src="/assets/images/2017/10-11-12/10-31-6.png" alt="">
</div>



